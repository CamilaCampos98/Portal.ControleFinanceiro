@page
@model Portal.ControleFinanceiro.Pages.Controle.RegistrarCompraModel
@{
    ViewData["Title"] = "Registrar Compra";
}

<h2><i class="bi bi-cart-plus"></i> Registrar Compra</h2>

@if (Model.Sucesso)
{
    <div class="alert alert-success">
        Compra registrada com sucesso! ID: @Model.ResultadoId
    </div>
}
@if (!string.IsNullOrEmpty(Model.Erro))
{
    <div class="alert alert-danger">
        Erro: @Model.Erro
    </div>
}

<form method="post">
    <div class="row g-3">
        <div class="col-md-4">
            <label class="form-label">Pessoa</label>
            <input asp-for="Input.Pessoa" class="form-control" placeholder="Ex.: João" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Descrição</label>
            <input asp-for="Input.Descricao" class="form-control" placeholder="Ex.: Mercado" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Valor (R$)</label>
            <input asp-for="Input.ValorTotal" class="form-control" type="number" step="0.01" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Data da Compra</label>
            <input asp-for="Input.Data" class="form-control" type="date" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Forma de Pagamento</label>
            <select asp-for="Input.FormaPgto" class="form-select">
                <option value="C">Crédito</option>
                <option value="D">Débito</option>
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Parcelas</label>
            <input asp-for="Input.TotalParcelas" class="form-control" type="number" value="1" />
        </div>
        <div class="col-md-4">
            <label class="form-label">Fonte (Ex.: Salário)</label>
            <input asp-for="Input.Fonte" class="form-control" />
        </div>
    </div>

    <button class="btn btn-success mt-3" type="submit">
        <i class="bi bi-check-circle"></i> Registrar
    </button>
</form>
